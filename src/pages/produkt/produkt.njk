---
title: 'Pleiepenger for sykt barn'
// title: 'Tilskudd til kjøp av PC eller nettbrett ved lese- og skrivevansker'
type: 'Pengestøtte'
template: 'Produktside'
audience: 'Arbeidsgiver'
intro: 'Sikrer deg inntekt under fravær fra jobb når du må pleie og ta vare på et barn som har vært innlagt eller er til behandling på sykehus.'
published: 'Oppdatert 18. desember 2023'
order: 4
alpine: true
---
{%- extends 'base.njk' -%}

{%- from "macros/button.njk" import button -%}
{%- from "macros/microcard.njk" import microcard -%}
{%- from "macros/tile.njk" import tile -%}

{%- block content -%}

  <main class="grid grid-cols-mini lg:grid-cols-maxi py-lg">

    <div class="col-wide">
    <div class="text-sm tracking-widest uppercase">{{ type | safe }}</div>
    <h1 class="font-bold text-3xl/tight text-balance mt-2xs">{{ title | safe }}</h1>

    {# Audience #}
    <div class="-ml-3xs mt-sm">
      <span class="inline-block text-sm bg-gray-100 rounded-full px-xs py-3xs ">
        {{ 'For ' if audience }}{{ audience | lower | safe }}
      </span>
    </div>

    {# Intro #}
    <div class="text-lg mt-md text-pretty max-w-prose">{{ intro | markdown | safe }}</div>
    </div>

    {# Innholdsfortegnelse #}
    <div class="mt-lg">
      <h2 class="text-base font-semibold">Innhold på siden</h2>
      <ul class="grid gap-1 mt-2xs">
        {% for chapter in collections.kapittel %}
        <li class="relative grid items-center bg-gray-100 rounded {{ 'rounded-t-xl' if loop.first }} {{ 'rounded-b-xl' if loop.index === 4 }} {{ 'rounded-xl mt-md' if loop.last }} py-xs px-xs group hover:bg-gray-200 gap-x-md">
          <a class="font-semibold underline text-base/snug group-hover:no-underline after:absolute after:inset-0" href="#{{ chapter.data.title | slugify }}">
            {{ chapter.data.title }}
          </a>
          {% if not loop.last %}
          <p class="text-pretty">{{ chapter.data.description | safe }}</p>
          {% endif %}
        </li>
        {% endfor %}
      </ul>
    </div>


    {# Innhold #}
    {% set chapters = collections.kapittel %}

    {% for chapter in chapters %}
    {% set chapterindex = loop.index %}
    <section class="grid items-end col-full grid-cols-mini lg:grid-cols-maxi" id="{{ chapter.data.title | slugify }}">
      <div class="grid grid-cols-mini lg:grid-cols-maxi col-full">
        {# <div class="rounded-lg aspect-[2/1] mt-xl border border-gray-300 mb-sm"></div> #}
        <div class="text-[360px]/[0.8] font-black text-gray-200 pt-2xl">{{ loop.index }}</div>

        {# <div class="text-sm tracking-widest uppercase">Kapittel {{ loop.index }}</div> #}
        <h2 class="font-bold text-2xl/snug text-balance">{{ chapter.data.title }}</h2>
        <p class="mt-sm">{{ chapter.data.description | safe }}</p>

        {# Static Chapter TOC #}
        {% if chapter.templateContent %}
        <nav class="bg-gray-100 rounded-lg my-md col-main toc-inline bottom-xl py-xs px-sm max-w-max">
          <h3 class="font-semibold">I dette kapittelet</h3>
          {{ chapter.templateContent | toc | safe }}
        </nav>
        {% endif %}
      </div>

      <div class="grid items-start grid-cols-mini lg:grid-cols-maxi col-full" x-data="{ tocShown: false, tocOpen: false }">

        {# Sticky Chapter TOC #}
        {% if chapter.templateContent %}
        <div class="hidden lg:block sticky my-md col-side toc-sticky top-6 min-h-[80vh] row-span-2" x-intersect:enter.full="tocShown = true" x-intersect:leave.half="tocShown = false">
          <nav class="sticky top-6" 
            x-show="tocShown" 
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 -translate-y-full"
            x-transition:enter-end="opacity-100 translate-y-0"
            x-transition:leave="transition ease-out duration-900 opacity-0"
          >
            <div class="relative">
              <button class="grid w-full py-3 pl-4 pr-12 text-left border border-gray-200 rounded-t-lg hover:bg-gray-100" type="button" x-on:click="tocOpen = !tocOpen">
                <span class="text-sm tracking-widest uppercase mb-3xs">Kapittel {{ loop.index }}</span>
                <span class="font-bold text-lg/tight">{{ chapter.data.title | safe }}</span>
                {{ '/src/_includes/svg/icons/chevron-down.svg' | svgContents('absolute top-1/2 -translate-y-1/2 right-4 w-5 h-5') | safe }}
              </button>
              <div class="absolute z-10 hidden w-full bg-white rounded-b-lg shadow-lg top-full inset-x" x-bind:class="tocOpen && '!block'">
                {% for chapter in chapters %}
                  <a class="px-4 py-2.5 flex gap-2 items-baseline {{ '!bg-blue-600 text-white' if loop.index === chapterindex }} {{ 'hover:underline hover:bg-blue-50' if loop.index != chapterindex }}" href="#{{ chapter.data.title | slugify | safe }}">
                    <span class="mr-4">{{ chapter.data.title }}</span>
                    <span class="w-2.5 h-2.5 rounded-full ml-auto self-center {{ 'bg-white' if loop.index === chapterindex }}"></span>
                  </a>
                {% endfor %}
              </div>
            </div>
            <div class="pt-2 pb-4 -mt-px border border-gray-200 roundex-b-lg">
              {{ chapter.templateContent | toc | safe }}
            </div>
          </div>

          {# <div class="flex flex-wrap pt-3 mt-4 text-blue-600 border-t border-gray-200 gap-x-sm gap-y-3xs">
            {% if loop.index < loop.length %}              
            <a href="#{{ chapters[loop.index0 + 1].data.title | slugify | safe }}">Neste kapittel</a>
            {% endif %}
            {% if not loop.first %}       
            <a href="#{{ chapters[loop.index0 - 1].data.title | slugify | safe }}">Forrige kapittel</a>
            {% endif %}
            <a href="#toppen">Til toppen</a>
          </div> #}
        </nav>
        {% endif %}

        {# Main Content #}
        <div class="prose mt-md">
          {{ chapter.templateContent | markdown | safe }}
        </div>
      </div>
    </section>
    {% endfor %}

    <div class="text-sm italic border-t border-gray-200 col-wide mt-xl pt-2xs">{{ published | safe }}</div>
  </main>
{%- endblock -%}


{% block bodyscript %}
  <script>
    const headings = document.querySelectorAll('.prose h3');
    const headingsArr = Array.from(headings);

    const navItems = document.querySelectorAll('.toc-sticky li');

    function activateNavByIndex(index) {
      if (headings[index].classList.contains('active'))
        return;

      const currentActive = document.querySelectorAll('.toc-sticky .active');
      for (let i = currentActive.length - 1; i >= 0; i--) {
        currentActive[i].classList.remove('active');
      }
      navItems[index].classList.add('active');
    }

    const intersectionCallback = (entries, observer) => {
      if (entries[0].intesectionRatio <= 0)
          return;
      
      if (entries[0].intersectionRatio > 0.90) {    
        activateNavByIndex(headingsArr.indexOf(entries[0].target))
      }
    };

    const intersectionOptions = {
      threshold: 1,
      rootMargin: '0px 0px 0px 0px'
    };

    const intersectionObserver = new IntersectionObserver(intersectionCallback, intersectionOptions);

    for (let i = 0; i < headings.length; i++) {
      intersectionObserver.observe(headings[i]);  
    }

  </script>
{% endblock %}